# BMF Filter Tool Environment Configuration
# This file extends the main Catalynx .env configuration
# Copy to .env.tool and customize as needed

# ============================================================================
# DATABASE CONFIGURATION (Factor 3: Config from Environment)
# ============================================================================

# BMF Database Path - Uses existing Catalynx intelligence database
BMF_DATABASE_PATH=data/nonprofit_intelligence.db

# Database connection settings
BMF_DB_TIMEOUT=30
BMF_DB_MAX_CONNECTIONS=10

# ============================================================================
# TOOL PERFORMANCE SETTINGS
# ============================================================================

# Caching configuration
BMF_CACHE_ENABLED=true
BMF_CACHE_TTL=3600
BMF_CACHE_MAX_SIZE=1000

# Query limits and performance
BMF_MAX_RESULTS=1000
BMF_TIMEOUT_SECONDS=30
BMF_QUERY_TIMEOUT=10

# Memory and resource limits
BMF_MEMORY_LIMIT_MB=512
BMF_MAX_CONCURRENT=10

# ============================================================================
# HTTP SERVICE CONFIGURATION (Factor 7: Port Binding)
# ============================================================================

# Service port (different from main Catalynx to avoid conflicts)
BMF_FILTER_PORT=8001

# Service configuration
BMF_HOST=0.0.0.0
BMF_WORKERS=1
BMF_RELOAD=false

# Health check settings
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# ============================================================================
# LOGGING CONFIGURATION (Factor 11: Logs as Event Streams)
# ============================================================================

# Log level for this tool specifically
BMF_LOG_LEVEL=INFO

# Structured logging
BMF_LOG_FORMAT=json
BMF_LOG_TIMESTAMP=true

# Performance logging
BMF_LOG_PERFORMANCE=true
BMF_LOG_QUERIES=false  # Set to true for debugging

# ============================================================================
# LLM CONFIGURATION (Optional - for natural language processing)
# ============================================================================

# OpenAI configuration (inherits from main .env if not specified)
# OPENAI_API_KEY=your_key_here_if_different_from_main
# AI_MODEL=gpt-4  # Inherits from main Catalynx config

# BAML configuration
BAML_LOG_LEVEL=INFO
BAML_CACHE_ENABLED=true

# ============================================================================
# DEVELOPMENT AND TESTING
# ============================================================================

# Development mode settings
DEVELOPMENT_MODE=false
DEBUG_ENABLED=false

# Testing configuration
TEST_DATABASE_PATH=data/test_nonprofit_intelligence.db
BENCHMARK_ENABLED=true
PERFORMANCE_MONITORING=true

# ============================================================================
# INTEGRATION WITH EXISTING CATALYNX
# ============================================================================

# Main Catalynx service URL (for integration testing)
CATALYNX_BASE_URL=http://localhost:8000

# Integration flags
CATALYNX_INTEGRATION_ENABLED=true
COMPARE_WITH_EXISTING_PROCESSOR=true

# Performance comparison settings
BENCHMARK_AGAINST_EXISTING=true
PERFORMANCE_COMPARISON_ENABLED=true

# ============================================================================
# 12-FACTOR COMPLIANCE SETTINGS
# ============================================================================

# Factor 9: Disposability - Graceful shutdown
GRACEFUL_SHUTDOWN_TIMEOUT=10

# Factor 8: Concurrency - Process scaling
SCALE_PROCESS_MODEL=true

# Factor 10: Dev/Prod Parity
ENVIRONMENT_PARITY_CHECK=true

# ============================================================================
# EXAMPLE CONFIGURATION VALUES
# ============================================================================

# Example for education nonprofits in Virginia
EXAMPLE_STATES=VA,MD,DC
EXAMPLE_NTEE_CODES=P20,B25
EXAMPLE_REVENUE_MIN=500000

# Common search patterns for testing
TEST_SEARCH_QUERIES=["education nonprofits in Virginia", "health organizations with revenue over 1M", "large nonprofits in DC area"]